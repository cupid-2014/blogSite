### 锁
-------

#### 一些概念
* 共享锁【S锁】
  * 又称读锁，若事务T对数据对象A加上S锁，则事务T可以读A但不能修改A，其他事务只能再对A加S锁，而不能加X锁，直到T释放A上的S锁。这保证了其他事务可以读A，但在T释放A上的S锁之前不能对A做任何修改。
* 排他锁【X锁】
  * 又称写锁。若事务T对数据对象A加上X锁，事务T可以读A也可以修改A，其他事务不能再对A加任何锁，直到T释放A上的锁。这保证了其他事务在T释放A上的锁之前不能再读取和修改A。

* 对比
  * 共享锁就是允许多个线程同时获取一个锁，一个锁可以同时被多个线程拥有。
  * 排它锁，也称作独占锁，一个锁在某一时刻只能被一个线程占有，其它线程必须等待锁被释放之后才可能获取到锁。


#### 死锁排查
* 第一种 图形化监听
  * sqlserver --> 工具 --> sql server profiler 登录后在跟踪属性中设置
    * 跟踪属性 --> 事件选择 --> Locks --> 勾选 Lock:Deadlock
 * 可以在页面查看监听到的死锁图形

* 第一种 略



#### 参考文档
* [sql server 死锁排查](https://blog.csdn.net/qq_18145031/article/details/80430972)
* [sql server中死锁排查的全过程分享](https://www.jb51.net/article/140439.htm)
* [详解共享锁（S锁）和排它锁（X锁）](https://blog.csdn.net/u012184539/article/details/88561195)
* [将死锁减至最少](https://blog.csdn.net/yz1988computer/article/details/12750535)
* [SQLSERVER中的锁资源类型RID KEY PAG EXT TAB DB FIL](https://blog.csdn.net/yabingshi_tech/article/details/29585469)
* [聚集索引和非聚集索引的区别](https://blog.csdn.net/riemann_/article/details/90324846)
* [sqlserver 死锁原因及解决方法](https://blog.csdn.net/u012752975/article/details/22412915)


[首页](../../../README.md) > [学习总览](../../../introduction/studyCatalogList.md) > [开发语言](../developmentLanguage.md) > [SQL server](SQLserver.md)
